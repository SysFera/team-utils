<html>
<body>
<script id="templateStatsEquipe" type="text/html">
  {{#users}}
    <tr class="{{wipStatus}}">
      <td class="text-left"><strong>{{name}}</strong></td>
      <td class="text-right">{{issues.new}}</td>
      <td class="text-right">{{issues.open}}</td>
    </tr>
  {{/users}}
  {{^users}}
    <tr>
      <td colspan="4" class="text-center alert-danger">Aucun ticket équipe n'a été trouvé.</td>
    </tr>
  {{/users}}
</script>
<script id="templateStatsClient" type="text/html">
  {{#customers}}
    <tr class={{deadlineStatus}}>
      <td class="text-left"><strong>{{name}}</strong></td>
      <td class="text-right">{{total}}</td>
      <td class="text-right">{{closed}}</td>
      <td class="text-right">{{open}}</td>
      <td class="text-center"><strong>{{new}}</strong></td>
      <td class="text-right">{{deadline}}&nbsp;h</td>
    </tr>
  {{/customers}}
  {{^customers}}
    <tr>
      <td colspan="6" class="text-center alert-danger">Aucun projet client n'a été trouvé.</td>
    </tr>
  {{/customers}}
</script>
<script id="templateStatsSysFera" type="text/html">
  {{#sysfera}}
    <tr>
      <td class="text-left"><strong>{{name}}</strong></td>
      <td class="text-right">{{total}}</td>
      <td class="text-right">{{closed}}</td>
      <td class="text-right">{{open}}</td>
      <td class="text-center"><strong>{{new}}</strong></td>
      <td class="text-right">N/A</td>
    </tr>
  {{/sysfera}}
  {{^sysfera}}
    <tr>
      <td colspan="6" class="text-center alert-danger">Aucun projet SysFera n'a été trouvé.</td>
    </tr>
  {{/sysfera}}
</script>
<script id="templateJenkins" type="text/html">
  <ul>
  {{#jenkinsBuilds}}
    <li class="status text-{{status}}">
      <svg width="26px" height="26px" xmlns="http://www.w3.org/2000/svg">
        <circle cx="13" cy="13" r="13" stroke-width="0" fill="#000" />
      </svg>
      &nbsp;<span class="project">{{name}}</span>
    </li>
  {{/jenkinsBuilds}}
  </ul>
  {{^jenkinsBuilds}}
    <div class="alert alert-danger">      
      <p>Impossible de récupérer les builds Jenkins.</p>
    </div>
  {{/jenkinsBuilds}}
</script>
<script id="templateGithub" type="text/html">
  {{#projects}}
    <h3>{{name}}</h3>
    <ul>
      {{#commits}}
        <li>- {{message}} (<strong>{{sha}}...</strong>)</li>
      {{/commits}}
      <ul>
      {{^commits}}
        <li>Aucun commit pour l'instant.</li>
      {{/commits}}
    </ul>
  {{/projects}}
  {{^projects}}
    <div class="alert alert-danger">      
      <p>Impossible de récupérer les commits GitHub.</p>
    </div>
  {{/projects}}
</script>
<script id="templateDeployments" type="text/html">
  {{#clients}}   
    <div class="alert alert-{{status}}">
      <div>
        <span class="lead">{{nom}}</span>
        {{#errors}}
          <span class="pull-right">{{failed}} test(s) échoué(s).</span>
        {{/errors}}
        {{^errors}}
          <span class="pull-right">Aucune erreur, parfait&nbsp;!</span>        
        {{/errors}}
        <br/><span class="smalltext">Mise à jour : {{date}}</span>
      </div>
    </div> 
  {{/clients}}
  {{^clients}}
    <div class="alert alert-info">
      <div>
        Aucun déploiement n'est surveillé.
      </div>
    </div>
  {{/clients}}
</script>
</body>
</html>
